(()=>{function s(e,a){let t=document.createElement("script");if(a)for(var r in a)t[r]=a[r];return t.innerHTML=e,document.body.appendChild(t)}!async function(){var e="",e=(e+=document.head.innerHTML)+document.body.innerHTML;const a=new DOMParser,t=a.parseFromString(e,"text/html");var r,e=t.querySelectorAll("script[type='magic']");let i="base",o=("undefined"!=typeof magic&&magic.versi&&(i=magic.versi),{versi:"",link:[]});o.versi=i;for(r of e){var c,n=r.src+"-"+i;r.src?(o.link=[...o.link,n],localStorage[n]?s(localStorage[n],r.dataset):(c=await fetch(r.src).then(e=>e.text()).catch(e=>console.log(e)))&&(s(c,r.dataset),localStorage[n]=c)):s(r.innerHTML,r.dataset)}if(localStorage.data_magic){e=JSON.parse(localStorage.data_magic);if(e.versi!=o.versi)for(var l of e.link)localStorage.removeItem(l)}localStorage.data_magic=JSON.stringify(o)}()})();
